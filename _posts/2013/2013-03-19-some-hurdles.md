---
title: "Some Hurdles"
category: game development
---
Wow, two posts in a day.

I want to talk about some of the hurdles I've faced with this toolset and working on Crypt Crawler. I'm using <a href="http://love2d.org/">Love2D</a> for this month's game, along with the Bump (collision detection), MiddleClass (object orientation), and AnAL (animation) libraries to help out.

The first hurdle I had was part of the collision library. This is the first time I've built a game without rolling my own collision detection and management. Normally, I can just insert collision detection right into my movement code. This time, all the entities' positions are updated, <b>then</b> the collisions are detected and resolved. When the collisions are detected in Bump, you're given a collision vector, which is the distance you could move one object or the other so the collision was no longer happening. The problem I had was that the vector was either horizontal or vertical. Bump isn't smart enough to take the object's previous position into account when calculating this vector. This wouldn't be too much of a problem, except my world is built out of square tiles. So, when the character tries to move along the wall, there will be a lot of places where you collide with two blocks, one would generate a horizontal collision vector, and one would generate a vertical vector. Applying them both to the player would cause them to get "stuck" against the wall. I needed the player to be able to grind along the wall. So I split my code so that, when a player collides with solid objects, the other objects are put into an array. After all the movement is done, all the solid collisions are resolved. This gave me the effect I wanted, and I will probably use it if I have to use an external collision management library again.

The second hurdle (which I'm still struggling with) is the limitations of the Love2D ParticleSystem class. All the effects in Crypt Crawler are "burst" based. This means that I needed the particle system to create a whole bunch of particles in one frame, update them according to their parameters, and not emit any more until the effect happens again somewhere else. The Love2D ParticleSystem doesn't seem to support this. It only supports continuously emitting particles. Now, I can set it up so it only emits particles for a short time, but that limits the effects I can do, and I can't actually limit it to emitting for just one frame. I have to set the total limit on particles for the system very low, set the number of particles emitted per second very high, and set the amount of time the particle system is active to be extremely short. <b>Then</b> I get somewhat of a burst effect, but it would be much nicer to just have a BurstParticle() function.

The final hurdle, and I feel like a bit of a sellout complaining about this, but man, do I miss Intellisense and Debugging. It's been a while since I've had to work without a good IDE and debugger tools. Lua is an okay language, but the lack of a dedicated IDE is lowering my opinion of it. Then again, that is my entire goal with this endeavor. I've spent the past couple years amassing these...toolsets for game making, and they were just sitting on my hard drive gathering (figurative) dust. This is my chance to go through and actually try them out. Inevitably, there would be some that I don't like as much. I've kept Love2D around because it fits on my thumb drive, so I can develop anywhere I can find a computer. This experience will finally let me say I tried it and remove the urge to just use this toolset for the sake of using it.